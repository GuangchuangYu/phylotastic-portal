<% trees.each do |t| %>  
  <div class="modal fade" tabindex="-1" role="dialog" id="tree-details-<%= t.id %>">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        </div>
        <div class="modal-body">
          <div>
            <%= image_tag t.image.url(:large), width: "100%" %>
          </div>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->
<% end %>

<script type="text/javascript">
$(document).ready(function(){  
  $('.cloud9-item').find("img").click(function() {
    obj = $("#carousel").data("carousel").nearestItem();
    if(obj.element.id.match(/\d+/g)[0] == $(this).parent().attr("id").match(/\d+/g)[0]) {      
      $('#tree-details-' + obj.element.id.match(/\d+/g)[0]).modal();
    }
  });
  
});
</script>